
Pitfalls I encountered when setting up / updating my Hydrogen 2025.7.0 Storefront

-

https://knottier-trudi-chondral.ngrok-free.dev 

-

on package.json
had to remove "dev": "react-router typegen --watch && shopify hydrogen dev --codegen", from dev build 

-

when updating, remove node-modules and .hydrogen and everything before doing it.
instructions come on .hydrogen folder

-

rm -rf node_modules package-lock.json
npm cache clean --force
npm install

-

Shopify CLI (https://shopify.dev/docs/api/shopify-cli)
shopify hydrogen logout
shopify hydrogen login
npx shopify hydrogen link
npx shopify hydrogen env pull

shopify commands (shows commands available)
or https://shopify.dev/docs/api/shopify-cli/hydrogen

-

*** Shopify doesn't allow customer login / checkout customization ***
*** Only available on shopify plus plans ***

NOPE
to set up custom authentication:
- add ngrok domain to env.d.ts (NGROK_DOMAIN)
- add markup + styles to routes/($locale).account_.login.tsx
- add this to lib/context.ts, under 'cart':
      customerAccount: {
        authUrl: env.PUBLIC_CUSTOMER_ACCOUNT_API_URL,
      }, 
      

-

Skeleton shop (2025.7.0)
https://github.com/Shopify/hydrogen/tree/main/templates/skeleton 

-

Setup for using Customer Account API (`/account` section)
https://shopify.dev/docs/storefronts/headless/building-with-the-customer-account-api/hydrogen

Follow step 1 and 2 of <https://shopify.dev/docs/custom-storefronts/building-with-the-customer-account-api/hydrogen#step-1-set-up-a-public-domain-for-local-development>

https://shopify.dev/docs/storefronts/headless/building-with-the-customer-account-api/getting-started 

-

ngrok setup to test authentication locally
https://dashboard.ngrok.com/
for this project: https://knottier-trudi-chondral.ngrok-free.dev 
to run it on terminal: ngrok http 3000

-

Deploy on Vercel
https://truestorefront.com/blog/how-to-deploy-shopify-hydrogen-2-to-vercel 

-

Hydrogen Cookbook (a collection of example recipes to showcase specific scenarios and usecases for Hydrogen projects)
https://shopify.dev/docs/storefronts/headless/hydrogen/cookbook 
https://github.com/Shopify/hydrogen/tree/main/cookbook 

-

Domains (have to make the storefront public)
https://shopify.dev/docs/storefronts/headless/hydrogen/migrate/redirect-traffic 

-

Example shop (outdated setup)
https://github.com/Shopify/hydrogen 